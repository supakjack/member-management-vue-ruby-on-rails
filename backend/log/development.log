  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20221212032030)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212032030"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddProfileToUser (20221212032210)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" text[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" text[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "auth_token" text[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212032210"]]
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 03:22:48.568797"], ["updated_at", "2022-12-12 03:22:48.568797"]]
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/user/sign_up" for ::1 at 2022-12-12 12:10:06 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/user/sign_up"):
  
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:10:20 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007fb2c801fa68>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", nil], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:10:21.014717"], ["updated_at", "2022-12-12 05:10:21.014717"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 201 Created in 329ms (Views: 1.1ms | ActiveRecord: 10.8ms | Allocations: 38021)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRoleToUser (20221212051553)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212051553"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:17:27.147475"], ["updated_at", "2022-12-12 05:17:27.147475"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:17:27.158039"], ["updated_at", "2022-12-12 05:17:27.158039"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (4.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:17:27.219922"], ["updated_at", "2022-12-12 05:17:27.219922"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:17:27.226391"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:17:27.232711"], ["updated_at", "2022-12-12 05:17:27.232711"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:19:22 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f564ca1c468>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 05:19:22.962310"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:19:22.962078"], ["updated_at", "2022-12-12 05:19:22.962078"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Devise::Mailer#confirmation_instructions: processed outbound mail in 8.9ms
Completed 500 Internal Server Error in 319ms (ActiveRecord: 6.7ms | Allocations: 97063)


  
RuntimeError (Could not find a valid mapping for #<User id: 1, email: "supakjack@gmail.com", created_at: "2022-12-12 05:19:22.962078000 +0000", updated_at: "2022-12-12 05:19:22.962078000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">):
  
app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20221212032030)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212032030"]]
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddProfileToUser (20221212032210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" text[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "auth_token" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212032210"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUser (20221212051553)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212051553"]]
  [1m[36mTRANSACTION (25.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:21:54.260735"], ["updated_at", "2022-12-12 05:21:54.260735"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:22:27 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f69289f65a8>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 05:22:27.526632"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:22:27.526513"], ["updated_at", "2022-12-12 05:22:27.526513"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Devise::Mailer#confirmation_instructions: processed outbound mail in 6.0ms
Completed 500 Internal Server Error in 354ms (ActiveRecord: 6.0ms | Allocations: 92811)


  
RuntimeError (Could not find a valid mapping for #<User id: 1, email: "supakjack@gmail.com", created_at: "2022-12-12 05:22:27.526513000 +0000", updated_at: "2022-12-12 05:22:27.526513000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">):
  
app/controllers/sessions_controller.rb:6:in `sign_up'
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:28:44 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
Completed 500 Internal Server Error in 69ms (ActiveRecord: 0.0ms | Allocations: 20430)


  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/models/user.rb:6: syntax error, unexpected label, expecting `do' or '{' or '('
  enum role: [:user, :moderator, :admin] ...
       ^~~~~
):
  
app/models/user.rb:6: syntax error, unexpected label, expecting `do' or '{' or '('
app/models/user.rb:6: syntax error, unexpected label, expecting `do' or '{' or '('
app/controllers/sessions_controller.rb:5:in `sign_up'
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:30:16 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f967c9368d0>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 400 Bad Request in 322ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 63279)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (4.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (30.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:30:35.844723"], ["updated_at", "2022-12-12 05:30:35.844723"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:30:35.856265"], ["updated_at", "2022-12-12 05:30:35.856265"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:30:35.918455"], ["updated_at", "2022-12-12 05:30:35.918455"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:30:35.926443"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:30:35.932731"], ["updated_at", "2022-12-12 05:30:35.932731"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:30:44 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f4414a22740>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", nil], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:30:44.599013"], ["updated_at", "2022-12-12 05:30:44.599013"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 201 Created in 292ms (Views: 0.5ms | ActiveRecord: 8.6ms | Allocations: 59747)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:31:46.636744"], ["updated_at", "2022-12-12 05:31:46.636744"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:31:46.646017"], ["updated_at", "2022-12-12 05:31:46.646017"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:31:46.707718"], ["updated_at", "2022-12-12 05:31:46.707718"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:31:46.714286"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:31:46.720814"], ["updated_at", "2022-12-12 05:31:46.720814"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:31:52 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/sessions_controller.rb:7: syntax error, unexpected '}', expecting =>
...r json: { success: true, user }, status: :created
...                              ^
):
  
app/controllers/sessions_controller.rb:7: syntax error, unexpected '}', expecting =>
app/controllers/sessions_controller.rb:7: syntax error, unexpected '}', expecting =>
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:32:23 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007fd15c94a928>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", nil], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:32:23.868797"], ["updated_at", "2022-12-12 05:32:23.868797"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (14.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 201 Created in 284ms (Views: 0.5ms | ActiveRecord: 15.7ms | Allocations: 59913)


Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:33:20 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007fd160a42b60>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 400 Bad Request in 218ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 4209)


Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:33:21 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007fd15c51a718>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 400 Bad Request in 197ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2508)


Started POST "/auth/sign_in" for ::1 at 2022-12-12 12:35:29 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.5ms | Allocations: 5366)


  
NoMethodError (undefined method `confirmed?' for #<User id: 1, email: "supakjack@gmail.com", created_at: "2022-12-12 05:32:23.868797000 +0000", updated_at: "2022-12-12 05:32:23.868797000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">
Did you mean?  confirmed_at?
               confirmed_at):
  
app/controllers/sessions_controller.rb:15:in `sign_in'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:36:41.866266"], ["updated_at", "2022-12-12 05:36:41.866266"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:36:41.875827"], ["updated_at", "2022-12-12 05:36:41.875827"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:36:41.940350"], ["updated_at", "2022-12-12 05:36:41.940350"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:36:41.946568"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:36:41.953261"], ["updated_at", "2022-12-12 05:36:41.953261"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:36:54 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f43809f2098>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 05:36:54.749213"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:36:54.749080"], ["updated_at", "2022-12-12 05:36:54.749080"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Devise::Mailer#confirmation_instructions: processed outbound mail in 5.6ms
Completed 500 Internal Server Error in 321ms (ActiveRecord: 14.1ms | Allocations: 92867)


  
RuntimeError (Could not find a valid mapping for #<User id: 1, email: "supakjack@gmail.com", created_at: "2022-12-12 05:36:54.749080000 +0000", updated_at: "2022-12-12 05:36:54.749080000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">):
  
app/controllers/sessions_controller.rb:6:in `sign_up'
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:37:16 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f4384af1990>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
Completed 400 Bad Request in 204ms (Views: 0.7ms | ActiveRecord: 2.7ms | Allocations: 11299)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:37:23.346817"], ["updated_at", "2022-12-12 05:37:23.346817"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:37:23.356070"], ["updated_at", "2022-12-12 05:37:23.356070"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:37:23.416606"], ["updated_at", "2022-12-12 05:37:23.416606"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:37:23.423085"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:37:23.429494"], ["updated_at", "2022-12-12 05:37:23.429494"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:37:27 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f62dc152890>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 05:37:28.354184"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:37:28.354053"], ["updated_at", "2022-12-12 05:37:28.354053"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (13.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 5.3ms | Allocations: 1472)
Devise::Mailer#confirmation_instructions: processed outbound mail in 28.8ms
Delivered mail 6396be186dc13_3e272ae49861@LAPTOP-8N8UGD5V.mail (42.4ms)
Date: Mon, 12 Dec 2022 12:37:28 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com
Message-ID: <6396be186dc13_3e272ae49861@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=1_yFMo-F_68dDkSVCzyH">Confirm my account</a></p>

Completed 201 Created in 380ms (Views: 0.2ms | ActiveRecord: 14.4ms | Allocations: 107953)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:40:06.380601"], ["updated_at", "2022-12-12 05:40:06.380601"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:40:06.388600"], ["updated_at", "2022-12-12 05:40:06.388600"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:40:06.449417"], ["updated_at", "2022-12-12 05:40:06.449417"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:40:06.456340"], ["key", "environment"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:40:06.463129"], ["updated_at", "2022-12-12 05:40:06.463129"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:40:14 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f7ffc14c070>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (6.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 05:40:14.726243"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:40:14.726096"], ["updated_at", "2022-12-12 05:40:14.726096"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 4.5ms | Allocations: 2426)
Devise::Mailer#confirmation_instructions: processed outbound mail in 24.1ms
Completed 500 Internal Server Error in 327ms (ActiveRecord: 13.9ms | Allocations: 91192)


  
ActionView::Template::Error (undefined method `user_confirmation_url' for #<ActionDispatch::Routing::RoutesProxy:0x00007f800d027d28 @scope=#<Devise::Mailer:0x000000000092b8>, @routes=#<ActionDispatch::Routing::RouteSet:0x00007f800c3f8ae8>, @helpers=#<Module:0x00007f800c348508>, @script_namer=nil>):
    2: 
    3: <p>You can confirm your account email through the link below:</p>
    4: 
    5: <p><%= link_to 'Confirm my account', confirmation_url(@resource, confirmation_token: @token) %></p>
  
app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:42:44.271859"], ["updated_at", "2022-12-12 05:42:44.271859"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:42:44.280679"], ["updated_at", "2022-12-12 05:42:44.280679"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:42:44.341953"], ["updated_at", "2022-12-12 05:42:44.341953"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:42:44.348751"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:42:44.355169"], ["updated_at", "2022-12-12 05:42:44.355169"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/auth/sign_up" for ::1 at 2022-12-12 12:43:01 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007ffb7815b910>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 05:43:02.087949"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 05:43:02.087837"], ["updated_at", "2022-12-12 05:43:02.087837"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 2.4ms | Allocations: 1354)
Devise::Mailer#confirmation_instructions: processed outbound mail in 24.9ms
Delivered mail 6396bf662ac27_3f492ae4-437@LAPTOP-8N8UGD5V.mail (29.3ms)
Date: Mon, 12 Dec 2022 12:43:02 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com
Message-ID: <6396bf662ac27_3f492ae4-437@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=Vgr4nxs83TpWL5smzzcn">Confirm my account</a></p>

Completed 201 Created in 359ms (Views: 0.4ms | ActiveRecord: 8.3ms | Allocations: 99982)


Started POST "/auth/sign_in" for ::1 at 2022-12-12 12:43:18 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 401 Unauthorized in 7ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 1087)


Started POST "/auth/confirm" for ::1 at 2022-12-12 12:43:47 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1424)


  
NoMethodError (undefined method `confirm' for nil:NilClass):
  
app/controllers/sessions_controller.rb:30:in `confirm'
Started POST "/auth/confirm" for ::1 at 2022-12-12 12:45:05 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.5ms | Allocations: 2550)


  
NoMethodError (undefined method `confirm' for nil:NilClass):
  
app/controllers/sessions_controller.rb:31:in `confirm'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/auth/confirm" for ::1 at 2022-12-12 12:47:47 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2022-12-12 05:47:47.857292"], ["updated_at", "2022-12-12 05:47:47.857971"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
Completed 200 OK in 33ms (Views: 0.7ms | ActiveRecord: 9.0ms | Allocations: 9630)


Started POST "/auth/sign_in" for ::1 at 2022-12-12 12:48:20 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 201 Created in 204ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1209)


Started GET "/user/me" for ::1 at 2022-12-12 12:49:01 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1381)


Started GET "/user/me" for ::1 at 2022-12-12 12:49:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/me"):
  
Started GET "/users/me" for ::1 at 2022-12-12 12:49:59 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 6725)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (4.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:51:47.548032"], ["updated_at", "2022-12-12 05:51:47.548032"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:51:47.556179"], ["updated_at", "2022-12-12 05:51:47.556179"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 05:51:47.615798"], ["updated_at", "2022-12-12 05:51:47.615798"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 05:51:47.622347"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 05:51:47.628872"], ["updated_at", "2022-12-12 05:51:47.628872"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for ::1 at 2022-12-12 13:30:48 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 45729)


Started GET "/users/sign_in" for ::1 at 2022-12-12 13:31:08 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 320)


Started GET "/users/sign_in" for ::1 at 2022-12-12 13:31:17 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 316)


Started GET "/users/confirmation" for ::1 at 2022-12-12 13:31:55 +0700
Processing by Devise::ConfirmationsController#show as HTML
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 255)


Started GET "/users/confirmation.json" for ::1 at 2022-12-12 13:32:01 +0700
Processing by Devise::ConfirmationsController#show as JSON
Completed 406 Not Acceptable in 2ms (ActiveRecord: 0.0ms | Allocations: 227)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
responders (3.0.1) lib/action_controller/respond_with.rb:215:in `respond_with'
devise (4.8.1) app/controllers/devise_controller.rb:202:in `respond_with_navigational'
devise (4.8.1) app/controllers/devise/confirmations_controller.rb:30:in `show'
actionpack (7.0.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.4) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/confirmation.json" for ::1 at 2022-12-12 13:33:29 +0700
  
NameError (uninitialized constant Session):
  
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 13:33:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/me"):
  
Started POST "/auth/sign_up" for ::1 at 2022-12-12 13:34:15 +0700
  
NameError (uninitialized constant Session):
  
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started POST "/auth/sign_up" for ::1 at 2022-12-12 13:34:18 +0700
  
ActionController::RoutingError (No route matches [POST] "/auth/sign_up"):
  
Started POST "/auth/sign_up" for ::1 at 2022-12-12 13:34:32 +0700
  
ActionController::RoutingError (No route matches [POST] "/auth/sign_up"):
  
Started POST "/sessions/sign_up" for ::1 at 2022-12-12 13:35:02 +0700
  
NameError (uninitialized constant Session):
  
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started POST "/sessions/sign_up" for ::1 at 2022-12-12 13:35:14 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f05dc867980>, params: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 06:35:14.381649"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 06:35:14.381539"], ["updated_at", "2022-12-12 06:35:14.381539"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 2.0ms | Allocations: 1067)
Devise::Mailer#confirmation_instructions: processed outbound mail in 22.0ms
Delivered mail 6396cba27277f_41ca2ae4-4ea@LAPTOP-8N8UGD5V.mail (29.6ms)
Date: Mon, 12 Dec 2022 13:35:14 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com
Message-ID: <6396cba27277f_41ca2ae4-4ea@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/user/confirmation?confirmation_token=UXGjL4tygu_sy8u-tMa6">Confirm my account</a></p>

Completed 201 Created in 343ms (Views: 0.8ms | ActiveRecord: 11.3ms | Allocations: 58363)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/sessions/confirm" for ::1 at 2022-12-12 13:36:33 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2022-12-12 06:36:33.341929"], ["updated_at", "2022-12-12 06:36:33.343049"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
Completed 200 OK in 48ms (Views: 0.5ms | ActiveRecord: 14.9ms | Allocations: 3098)


Started POST "/sessions/sign_in" for ::1 at 2022-12-12 13:36:44 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 201 Created in 195ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1214)


Started GET "/users/me" for ::1 at 2022-12-12 13:37:04 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2198)


  
NameError (undefined method `rescue_unauthorized' for class `UsersController'
Did you mean?  rescue_handlers):
  
activesupport (7.0.4) lib/active_support/rescuable.rb:106:in `method'
activesupport (7.0.4) lib/active_support/rescuable.rb:106:in `handler_for_rescue'
activesupport (7.0.4) lib/active_support/rescuable.rb:91:in `rescue_with_handler'
activesupport (7.0.4) lib/active_support/rescuable.rb:165:in `rescue_with_handler'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:25:in `rescue in process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:21:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 13:37:09 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 1297)


Started GET "/users/me" for ::1 at 2022-12-12 13:41:28 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 401 Unauthorized in 15ms (ActiveRecord: 1.4ms | Allocations: 7093)


  
ActionDispatch::Request::Session::DisabledSessionError (Your application has sessions disabled. To write to the session you must first configure a session store):
  
actionpack (7.0.4) lib/action_dispatch/request/session.rb:253:in `load_for_write!'
actionpack (7.0.4) lib/action_dispatch/request/session.rb:151:in `[]='
devise (4.8.1) lib/devise/controllers/store_location.rb:40:in `store_location_for'
devise (4.8.1) lib/devise/failure_app.rb:243:in `store_location!'
devise (4.8.1) lib/devise/failure_app.rb:78:in `redirect'
devise (4.8.1) lib/devise/failure_app.rb:43:in `respond'
actionpack (7.0.4) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:235:in `block in action'
devise (4.8.1) lib/devise/failure_app.rb:23:in `call'
devise (4.8.1) lib/devise/delegator.rb:7:in `call'
warden (1.2.9) lib/warden/manager.rb:143:in `call_failure_app'
warden (1.2.9) lib/warden/manager.rb:129:in `process_unauthenticated'
warden (1.2.9) lib/warden/manager.rb:44:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 13:44:19 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 6745)


Started GET "/users/me" for ::1 at 2022-12-12 13:45:03 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 6733)


Started GET "/users/me" for ::1 at 2022-12-12 13:48:28 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 45802)


Started GET "/users/me" for ::1 at 2022-12-12 13:48:29 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 850)


Started POST "/sessions/sign_up" for ::1 at 2022-12-12 13:48:46 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f39b419e3b8>, params: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (6.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com2"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 06:48:46.785443"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 06:48:46.785321"], ["updated_at", "2022-12-12 06:48:46.785321"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 4.9ms | Allocations: 1351)
Devise::Mailer#confirmation_instructions: processed outbound mail in 39.7ms
Delivered mail 6396ceced8327_46172b0c-511@LAPTOP-8N8UGD5V.mail (11.9ms)
Date: Mon, 12 Dec 2022 13:48:46 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com2
Message-ID: <6396ceced8327_46172b0c-511@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com2!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/users/confirmation?confirmation_token=t4koAyYHPAo6ExaCFfs9">Confirm my account</a></p>

Completed 201 Created in 311ms (Views: 0.3ms | ActiveRecord: 12.9ms | Allocations: 52261)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 13:48:57 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 989)


Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:15 +0700
  
ArgumentError (Missing :controller key on routes definition, please check your routes.):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:25 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 6379)


Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:26 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 203)


Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:27 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 202)


Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:27 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 200)


Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:27 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 203)


Started GET "/users/sign_in" for ::1 at 2022-12-12 14:04:28 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 203)


Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:04:33 +0700
Processing by Devise::SessionsController#new as JSON
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 261)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
responders (3.0.1) lib/action_controller/respond_with.rb:215:in `respond_with'
devise (4.8.1) app/controllers/devise/sessions_controller.rb:14:in `new'
actionpack (7.0.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.4) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/sign_in.html" for ::1 at 2022-12-12 14:04:44 +0700
Processing by Devise::SessionsController#new as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 198)


Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:04:56 +0700
  
ArgumentError (Missing :controller key on routes definition, please check your routes.):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:04:57 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:04:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:04:59 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:21 +0700
  
ArgumentError (Missing :controller key on routes definition, please check your routes.):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:22 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:40 +0700
  
ArgumentError (Missing :controller key on routes definition, please check your routes.):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:05:42 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:07:38 +0700
Processing by Devise::SessionsController#new as JSON
Completed 406 Not Acceptable in 9ms (ActiveRecord: 0.9ms | Allocations: 6773)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
responders (3.0.1) lib/action_controller/respond_with.rb:215:in `respond_with'
devise (4.8.1) app/controllers/devise/sessions_controller.rb:14:in `new'
actionpack (7.0.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rendering.rb:53:in `process_action'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.4) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:08:10 +0700
  
ArgumentError (Invalid route name, already in use: 'new_user_session' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:12:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:08:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:08:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:08:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:08:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:08:19 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:11 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:12 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:15 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/users/sign_in.json" for ::1 at 2022-12-12 14:12:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in.json"):
  
Started GET "/userasd/sign_in.json" for ::1 at 2022-12-12 14:12:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/userasd/sign_in.json"):
  
Started GET "/asdasd/sign_in.json" for ::1 at 2022-12-12 14:12:34 +0700
  
ActionController::RoutingError (No route matches [GET] "/asdasd/sign_in.json"):
  
Started GET "/asdasd/sign_in.json" for ::1 at 2022-12-12 14:14:31 +0700
  
ArgumentError (You should not use the `match` method in your router without specifying an HTTP method.
If you want to expose your action to both GET and POST, add `via: [:get, :post]` option.
If you want to expose your action to GET, use `get` in the router:
  Instead of: match "controller#action"
  Do: get "controller#action"):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/asdasd/sign_in.json" for ::1 at 2022-12-12 14:14:32 +0700
  
ActionController::RoutingError (No route matches [GET] "/asdasd/sign_in.json"):
  
Started GET "/user" for ::1 at 2022-12-12 14:14:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:15:03 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:15:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:15:57 +0700
  
ArgumentError (You should not use the `match` method in your router without specifying an HTTP method.
If you want to expose your action to both GET and POST, add `via: [:get, :post]` option.
If you want to expose your action to GET, use `get` in the router:
  Instead of: match "controller#action"
  Do: get "controller#action"):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/user/" for ::1 at 2022-12-12 14:16:15 +0700
  
ArgumentError (You should not use the `match` method in your router without specifying an HTTP method.
If you want to expose your action to both GET and POST, add `via: [:get, :post]` option.
If you want to expose your action to GET, use `get` in the router:
  Instead of: match "controller#action"
  Do: get "controller#action"):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/user/" for ::1 at 2022-12-12 14:16:16 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:17 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:28 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:29 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:30 +0700
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
Started GET "/user/" for ::1 at 2022-12-12 14:16:39 +0700
Started GET "/user/das" for ::1 at 2022-12-12 14:16:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:16:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:16:54 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:16:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:17:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:17:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/das"):
  
Started GET "/user/das" for ::1 at 2022-12-12 14:17:28 +0700
Started GET "/user" for ::1 at 2022-12-12 14:18:15 +0700
  
ArgumentError (You should not use the `match` method in your router without specifying an HTTP method.
If you want to expose your action to both GET and POST, add `via: [:get, :post]` option.
If you want to expose your action to GET, use `get` in the router:
  Instead of: match "controller#action"
  Do: get "controller#action"):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/user" for ::1 at 2022-12-12 14:19:32 +0700
Started GET "/user/confirmation" for ::1 at 2022-12-12 14:20:41 +0700
Started GET "/" for ::1 at 2022-12-12 14:21:28 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.0ms | Allocations: 457)
Completed 200 OK in 8ms (Views: 6.0ms | Allocations: 1350)


Started GET "/user/sign_in.json" for ::1 at 2022-12-12 14:21:47 +0700
  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/user/sign_in" for ::1 at 2022-12-12 14:21:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/sign_in"):
  
Started GET "/user/sign_in" for ::1 at 2022-12-12 14:22:20 +0700
  
ArgumentError (Missing :controller key on routes definition, please check your routes.):
  
config/routes.rb:10:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/user/sign_in" for ::1 at 2022-12-12 14:22:21 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/sign_in"):
  
Started GET "/user/sign_in" for ::1 at 2022-12-12 14:22:24 +0700
  
ActionController::RoutingError (No route matches [GET] "/user/sign_in"):
  
Started GET "/user/sign_in" for ::1 at 2022-12-12 14:22:35 +0700
Started GET "/" for ::1 at 2022-12-12 14:22:35 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 452)
Completed 200 OK in 3ms (Views: 2.3ms | Allocations: 1207)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 07:28:50.514479"], ["updated_at", "2022-12-12 07:28:50.514479"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 07:28:50.523206"], ["updated_at", "2022-12-12 07:28:50.523206"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime(6), "last_sign_in_at" datetime(6), "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "first_name" text, "last_name" text, "auth_token" text, "role" integer DEFAULT 0)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221212051553)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212032030),
(20221212032210);

[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 07:28:50.586676"], ["updated_at", "2022-12-12 07:28:50.586676"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2022-12-12 07:28:50.593016"], ["key", "environment"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "73b707e01c8812fd096419cfa76f57be5db4d8ab"], ["created_at", "2022-12-12 07:28:50.599622"], ["updated_at", "2022-12-12 07:28:50.599622"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/sessions/sign_up" for ::1 at 2022-12-12 14:54:01 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007fc40417c2d8>, params: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "failed_attempts", "unlock_token", "locked_at", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com2"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["sign_in_count", 0], ["current_sign_in_at", nil], ["last_sign_in_at", nil], ["current_sign_in_ip", nil], ["last_sign_in_ip", nil], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 07:54:02.265481"], ["unconfirmed_email", nil], ["failed_attempts", 0], ["unlock_token", "[FILTERED]"], ["locked_at", nil], ["created_at", "2022-12-12 07:54:02.265409"], ["updated_at", "2022-12-12 07:54:02.265409"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 2.4ms | Allocations: 1354)
Devise::Mailer#confirmation_instructions: processed outbound mail in 20.6ms
Delivered mail 6396de1a52bbb_1af72ae4329c@LAPTOP-8N8UGD5V.mail (20.2ms)
Date: Mon, 12 Dec 2022 14:54:02 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com2
Message-ID: <6396de1a52bbb_1af72ae4329c@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com2!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/user/confirmation?confirmation_token=yy5EK6rz7ty5zhRZPEXU">Confirm my account</a></p>

Completed 201 Created in 314ms (Views: 0.4ms | ActiveRecord: 7.4ms | Allocations: 98777)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/sessions/confirm" for ::1 at 2022-12-12 14:55:00 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (16.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2022-12-12 07:55:00.045854"], ["updated_at", "2022-12-12 07:55:00.046131"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 24.5ms | Allocations: 4600)


Started POST "/sessions/sign_in" for ::1 at 2022-12-12 14:55:09 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com2"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 201 Created in 228ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1221)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 1390)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 840)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 824)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 824)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:28 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 825)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:28 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 824)


Started GET "/users/me" for ::1 at 2022-12-12 14:55:30 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 826)


Started DELETE "/auths/sign_out" for ::1 at 2022-12-12 14:55:39 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/auths/sign_out"):
  
Started DELETE "/sessions/sign_out" for ::1 at 2022-12-12 14:56:13 +0700
Processing by SessionsController#sign_out as HTML
  Parameters: {"user"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}, "session"=>{"user"=>{"email"=>"supakjack@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:24:in `sign_out'
  [1m[36mUser Update (7.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "auth_token" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-12-12 07:56:13.682658"], ["auth_token", "[FILTERED]"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:24:in `sign_out'
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:24:in `sign_out'
Completed 200 OK in 35ms (Views: 0.8ms | ActiveRecord: 16.4ms | Allocations: 2420)


Started GET "/users/me" for ::1 at 2022-12-12 14:56:19 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 2640)


  
NameError (undefined method `rescue_unauthorized' for class `UsersController'
Did you mean?  rescue_handlers):
  
activesupport (7.0.4) lib/active_support/rescuable.rb:106:in `method'
activesupport (7.0.4) lib/active_support/rescuable.rb:106:in `handler_for_rescue'
activesupport (7.0.4) lib/active_support/rescuable.rb:91:in `rescue_with_handler'
activesupport (7.0.4) lib/active_support/rescuable.rb:165:in `rescue_with_handler'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:25:in `rescue in process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:21:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 14:57:37 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.7ms | Allocations: 2906)


  
NameError (undefined method `unauthorized' for class `UsersController'):
  
activesupport (7.0.4) lib/active_support/rescuable.rb:106:in `method'
activesupport (7.0.4) lib/active_support/rescuable.rb:106:in `handler_for_rescue'
activesupport (7.0.4) lib/active_support/rescuable.rb:91:in `rescue_with_handler'
activesupport (7.0.4) lib/active_support/rescuable.rb:165:in `rescue_with_handler'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:25:in `rescue in process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:21:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 14:58:15 +0700
  
ArgumentError (Need a handler. Pass the with: keyword argument or provide a block.):
  
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:04:51 +0700
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:29: syntax error, unexpected local variable or method, expecting `end'
...o_s, error: error.to_s } status: :unauthorized
...                         ^~~~~~
):
  
app/controllers/application_controller.rb:29: syntax error, unexpected local variable or method, expecting `end'
app/controllers/application_controller.rb:29: syntax error, unexpected local variable or method, expecting `end'
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:05:12 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1203)


Started GET "/users/me" for ::1 at 2022-12-12 15:05:13 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 629)


Started GET "/users/me" for ::1 at 2022-12-12 15:09:15 +0700
  
ArgumentError (:exception must be an Exception class or a String referencing an Exception class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:10:26 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18:in `load_current_user'
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 1199)


Started GET "/users/me" for ::1 at 2022-12-12 15:15:19 +0700
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:2: syntax error, unexpected '(', expecting `end'
...Error, with: :rescue_exception(:unauthorized)
...                              ^
/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
        response = json:{ success: false, type: error....
                        ^
/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:29: syntax error, unexpected label
...  response =  response, status: status if status
...                        ^~~~~~~
):
  
app/controllers/application_controller.rb:2: syntax error, unexpected '(', expecting `end'
app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/application_controller.rb:29: syntax error, unexpected label
app/controllers/application_controller.rb:2: syntax error, unexpected '(', expecting `end'
app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/application_controller.rb:29: syntax error, unexpected label
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:16:04 +0700
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
        response = json:{ success: false, type: error....
                        ^
/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:29: syntax error, unexpected label
...  response =  response, status: status if status
...                        ^~~~~~~
):
  
app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/application_controller.rb:29: syntax error, unexpected label
app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/application_controller.rb:29: syntax error, unexpected label
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:16:44 +0700
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
        json:{ success: false, type: error....
             ^
):
  
app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/application_controller.rb:28: syntax error, unexpected {, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:17:34 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18:in `load_current_user'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.4ms | Allocations: 1576)


  
NoMethodError (undefined method `error' for #<STBAuthenticationError: bad token>):
  
app/controllers/application_controller.rb:28:in `rescue_exception'
Started GET "/users/me" for ::1 at 2022-12-12 15:30:22 +0700
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:29: syntax error, unexpected local variable or method, expecting `end'
...o_s, error: error.to_s } status: :bad_request
...                         ^~~~~~
):
  
app/controllers/application_controller.rb:29: syntax error, unexpected local variable or method, expecting `end'
app/controllers/application_controller.rb:29: syntax error, unexpected local variable or method, expecting `end'
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 15:30:36 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:23:in `load_current_user'
Completed 400 Bad Request in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1198)


Started GET "/users/me" for ::1 at 2022-12-12 15:42:33 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms | Allocations: 924)


  
ActionDispatch::Request::Session::DisabledSessionError (Your application has sessions disabled. To write to the session you must first configure a session store):
  
actionpack (7.0.4) lib/action_dispatch/request/session.rb:253:in `load_for_write!'
actionpack (7.0.4) lib/action_dispatch/request/session.rb:151:in `[]='
devise (4.8.1) lib/devise/controllers/store_location.rb:40:in `store_location_for'
devise (4.8.1) lib/devise/failure_app.rb:243:in `store_location!'
devise (4.8.1) lib/devise/failure_app.rb:78:in `redirect'
devise (4.8.1) lib/devise/failure_app.rb:43:in `respond'
actionpack (7.0.4) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:235:in `block in action'
devise (4.8.1) lib/devise/failure_app.rb:23:in `call'
devise (4.8.1) lib/devise/delegator.rb:7:in `call'
warden (1.2.9) lib/warden/manager.rb:143:in `call_failure_app'
warden (1.2.9) lib/warden/manager.rb:129:in `process_unauthenticated'
warden (1.2.9) lib/warden/manager.rb:44:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 15:43:55 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 2144)


  
NoMethodError (undefined method `verify_authenticity_token!' for #<UsersController:0x0000000000dd18>):
  
activesupport (7.0.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.4) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.4) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.4) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.4) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.4) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 15:53:14 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:24:in `load_current_user'
Completed 400 Bad Request in 6ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2251)


Started GET "/users/me" for ::1 at 2022-12-12 15:54:26 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:24:in `load_current_user'
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 1202)


Started POST "/sessions/sign_in" for ::1 at 2022-12-12 15:54:34 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com2"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 201 Created in 239ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 45507)


Started GET "/users/me" for ::1 at 2022-12-12 15:54:48 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:24:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 929)


Started GET "/users/me" for ::1 at 2022-12-12 15:56:28 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:24:in `load_current_user'
Completed 200 OK in 53ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 45806)


Started GET "/users/me" for ::1 at 2022-12-12 15:57:15 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:24:in `load_current_user'
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 2.5ms | Allocations: 6800)


Started GET "/users/me" for ::1 at 2022-12-12 15:58:11 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 16ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 6812)


Started GET "/users/me" for ::1 at 2022-12-12 16:01:38 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 6792)


Started GET "/users/me" for ::1 at 2022-12-12 16:02:16 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 6792)


Started GET "/users/me" for ::1 at 2022-12-12 16:02:17 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 885)


Started GET "/users/me" for ::1 at 2022-12-12 16:02:23 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 6789)


Started GET "/users/me" for ::1 at 2022-12-12 16:06:15 +0700
  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/controllers/application_controller.rb:30: class definition in method body
        class UserContext
        ^~~~~~~~~~~~~~~~~
):
  
app/controllers/application_controller.rb:30: class definition in method body
app/controllers/application_controller.rb:30: class definition in method body
app/controllers/users_controller.rb:1:in `<main>'
Started GET "/users/me" for ::1 at 2022-12-12 16:06:47 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:34:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 6844)


Started GET "/users/me" for ::1 at 2022-12-12 16:07:46 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:33:in `load_current_user'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 6789)


Started GET "/users/me" for ::1 at 2022-12-12 16:09:41 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:33:in `load_current_user'
Completed 500 Internal Server Error in 12ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 6922)


  
Pundit::AuthorizationNotPerformedError (UsersController):
  
pundit (2.2.0) lib/pundit/authorization.rb:38:in `verify_authorized'
activesupport (7.0.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4) lib/active_support/callbacks.rb:247:in `block in halting'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `block in invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `each'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:108:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 16:10:13 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:33:in `load_current_user'
Completed 500 Internal Server Error in 16ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 6883)


  
Pundit::AuthorizationNotPerformedError (UsersController):
  
pundit (2.2.0) lib/pundit/authorization.rb:38:in `verify_authorized'
activesupport (7.0.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4) lib/active_support/callbacks.rb:247:in `block in halting'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `block in invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `each'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:108:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 16:10:40 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:33:in `load_current_user'
Completed 500 Internal Server Error in 12ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 6940)


  
Pundit::AuthorizationNotPerformedError (UsersController):
  
pundit (2.2.0) lib/pundit/authorization.rb:38:in `verify_authorized'
activesupport (7.0.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4) lib/active_support/callbacks.rb:247:in `block in halting'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `block in invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `each'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:108:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 16:11:31 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:33:in `load_current_user'
Completed 500 Internal Server Error in 14ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 6902)


  
Pundit::AuthorizationNotPerformedError (UsersController):
  
pundit (2.2.0) lib/pundit/authorization.rb:38:in `verify_authorized'
activesupport (7.0.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4) lib/active_support/callbacks.rb:247:in `block in halting'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `block in invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `each'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:108:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 16:21:14 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:33:in `load_current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms | Allocations: 8299)


  
NoMethodError (undefined method `authorize' for #<UsersController:0x0000000003eb20>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:22:13 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:34:in `load_current_user'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.4ms | Allocations: 7632)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007fd4442c79f8 @user=#<UserContext:0x00007fd4442cf130 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:23:32 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:34:in `load_current_user'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.0ms | Allocations: 7541)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007fd45113a0d8 @user=#<UserContext:0x00007fd451149560 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:25:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.7ms | Allocations: 7526)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007fd440549ec8 @user=#<UserContext:0x00007fd44055cd48 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>
Did you mean?  me):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:25:38 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.5ms | Allocations: 6820)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:26:02 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 7094)


Started GET "/users/me" for ::1 at 2022-12-12 16:26:08 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 24ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 7075)


Started GET "/users/me" for ::1 at 2022-12-12 16:26:22 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.8ms | Allocations: 7360)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x00007fd45104a5b0 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:3:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:27:06 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.5ms | Allocations: 7414)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x00007fd44049c5e8 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:3:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:27:51 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.0ms | Allocations: 7447)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x00007fd43c28acb8 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:4:in `me?'
app/controllers/users_controller.rb:5:in `me'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/me" for ::1 at 2022-12-12 16:30:12 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.1ms | Allocations: 7445)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x00007fd4304c6830 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:4:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:30:47 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.9ms | Allocations: 7470)


  
NoMethodError (undefined method `role' for #<UserContext:0x00007fd450bb8240 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:4:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:32:01 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.2ms | Allocations: 7419)


  
NoMethodError (undefined method `role' for #<UserContext:0x00007fd43c433fb0 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:4:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:33:01 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.4ms | Allocations: 7378)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x00007fd430292d48 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:3:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:33:59 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.0ms | Allocations: 7410)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x000055c516ead888 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:4:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:35:02 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.5ms | Allocations: 7462)


  
NoMethodError (undefined method `has_role?' for #<UserContext:0x00007fd4441c2288 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">):
  
app/policies/user_policy.rb:4:in `me?'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:35:09 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 7169)


Started GET "/users/me" for ::1 at 2022-12-12 16:35:51 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 21ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 7152)


Started GET "/users/me" for ::1 at 2022-12-12 16:36:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 7152)


Started GET "/users/me" for ::1 at 2022-12-12 16:36:53 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 7105)


Started GET "/users/me" for ::1 at 2022-12-12 16:37:12 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 47ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 46332)


Started GET "/users/me" for ::1 at 2022-12-12 16:38:12 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 7129)


Started GET "/users/me" for ::1 at 2022-12-12 16:38:20 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 908)


Started GET "/users/me" for ::1 at 2022-12-12 16:38:29 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 46242)


Started GET "/users/me" for 127.0.0.1 at 2022-12-12 16:38:53 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.5ms | ActiveRecord: 2.5ms | Allocations: 7190)


Started GET "/users/me" for ::1 at 2022-12-12 16:39:21 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 7110)


Started GET "/users/me" for ::1 at 2022-12-12 16:39:30 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 7165)


Started GET "/users/me" for ::1 at 2022-12-12 16:41:47 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 7178)


Started GET "/users/me" for ::1 at 2022-12-12 16:43:45 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 7255)


Started GET "/users/me" for ::1 at 2022-12-12 16:46:52 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.9ms | Allocations: 6866)


  
Pundit::InvalidConstructorError (Invalid #<UserPolicy> constructor is called):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:47:28 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.8ms | Allocations: 7541)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007f5cac17c428 @user=#<UserContext:0x00007f5cac17e200 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @ip="::1">, @post=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 07:56:13.682658000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:50:46 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 7137)


Started GET "/users/me" for ::1 at 2022-12-12 16:50:57 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.5ms | Allocations: 6978)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:52:05 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.7ms | Allocations: 6648)


  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/policies/user_policy.rb:3: syntax error, unexpected constant, expecting `end'
    @user.has_role?(:admin) OR @user.has_role?(:user)
                            ^~
):
  
app/policies/user_policy.rb:3: syntax error, unexpected constant, expecting `end'
app/policies/user_policy.rb:3: syntax error, unexpected constant, expecting `end'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:52:13 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.0ms | Allocations: 6951)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:52:55 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.4ms | Allocations: 7008)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:53:05 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.4ms | Allocations: 6949)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:53:40 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 5.3ms | Allocations: 6663)


  
SyntaxError (/home/supakjack/member-management-vue-ruby-on-rails/backend/app/policies/user_policy.rb:3: syntax error, unexpected symbol literal, expecting `end'
...e? :admin ||  @user.has_role? :user || @user.has_role? :mode...
...                              ^
/home/supakjack/member-management-vue-ruby-on-rails/backend/app/policies/user_policy.rb:3: syntax error, unexpected symbol literal, expecting `end'
...ole? :user || @user.has_role? :moderator
...                              ^
):
  
app/policies/user_policy.rb:3: syntax error, unexpected symbol literal, expecting `end'
app/policies/user_policy.rb:3: syntax error, unexpected symbol literal, expecting `end'
app/policies/user_policy.rb:3: syntax error, unexpected symbol literal, expecting `end'
app/policies/user_policy.rb:3: syntax error, unexpected symbol literal, expecting `end'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:54:04 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.1ms | Allocations: 6952)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:54:45 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.2ms | Allocations: 7021)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:55:37 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.0ms | Allocations: 7057)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:56:06 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.6ms | Allocations: 7026)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:58:08 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.6ms | Allocations: 7045)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 16:58:36 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 18ms (Views: 1.2ms | ActiveRecord: 1.3ms | Allocations: 7143)


Started GET "/users/me" for ::1 at 2022-12-12 16:58:56 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 26ms (Views: 0.7ms | ActiveRecord: 1.3ms | Allocations: 7115)


Started GET "/users/me" for ::1 at 2022-12-12 16:59:09 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.3ms | Allocations: 7020)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:00:35 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7212)


Started GET "/users/me" for ::1 at 2022-12-12 17:01:18 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms | Allocations: 6536)


  
Pundit::NotDefinedError (unable to find policy `IntegerPolicy` for `1234`):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:02:02 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.8ms | Allocations: 6545)


  
Pundit::NotDefinedError (unable to find policy `NilClassPolicy` for `nil`):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:02:19 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 1.0ms | Allocations: 45426)


  
Pundit::NotDefinedError (unable to find policy `NilClassPolicy` for `nil`):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:03:18 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.3ms | Allocations: 6557)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `test`):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:03:41 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 20ms (Views: 1.2ms | ActiveRecord: 1.3ms | Allocations: 7364)


Started GET "/users/me" for ::1 at 2022-12-12 17:04:35 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 7125)


Started GET "/users/me" for ::1 at 2022-12-12 17:08:51 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 7136)


Started GET "/users/me" for ::1 at 2022-12-12 17:08:52 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 837)


Started GET "/users/me" for ::1 at 2022-12-12 17:09:04 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.9ms | Allocations: 6812)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:6:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:10:11 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.0ms | Allocations: 6802)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:6:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:10:26 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms | Allocations: 664)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:6:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:10:27 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 663)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:6:in `me'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (3.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-12-12 10:10:34.911949"], ["role", 2], ["id", 1]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/me" for ::1 at 2022-12-12 17:10:37 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 12ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 888)


Started GET "/users/me" for ::1 at 2022-12-12 17:10:38 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 835)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-12-12 10:10:46.174999"], ["role", 0], ["id", 1]]
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/me" for ::1 at 2022-12-12 17:22:25 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.5ms | Allocations: 6611)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:6:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:23:16 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 4.3ms | Allocations: 6766)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:23:46 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.2ms | Allocations: 6818)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (3.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-12-12 10:24:01.953856"], ["role", 2], ["id", 1]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/me" for ::1 at 2022-12-12 17:24:04 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 887)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-12-12 10:24:20.250740"], ["role", 0], ["id", 1]]
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/users/me" for ::1 at 2022-12-12 17:24:28 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 7017)


Started GET "/users/me" for ::1 at 2022-12-12 17:24:35 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 20ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 6994)


Started GET "/users/me" for ::1 at 2022-12-12 17:24:36 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 833)


Started GET "/users/me" for ::1 at 2022-12-12 17:24:51 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 12ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 6825)


  
Pundit::AuthorizationNotPerformedError (UsersController):
  
pundit (2.2.0) lib/pundit/authorization.rb:38:in `verify_authorized'
activesupport (7.0.4) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.4) lib/active_support/callbacks.rb:247:in `block in halting'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `block in invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `each'
activesupport (7.0.4) lib/active_support/callbacks.rb:599:in `invoke_after'
activesupport (7.0.4) lib/active_support/callbacks.rb:108:in `run_callbacks'
actionpack (7.0.4) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.4) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.4) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.4) lib/abstract_controller/base.rb:151:in `process'
actionpack (7.0.4) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.4) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.4) lib/action_dispatch/routing/route_set.rb:852:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
activerecord (7.0.4) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users/me" for ::1 at 2022-12-12 17:25:36 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 7041)


Started GET "/users/me" for ::1 at 2022-12-12 17:25:59 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 7049)


Started GET "/users/me" for ::1 at 2022-12-12 17:26:00 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 834)


Started GET "/users/me" for ::1 at 2022-12-12 17:26:00 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 832)


Started GET "/users/me" for ::1 at 2022-12-12 17:26:08 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 3.5ms | Allocations: 6787)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:26:18 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 1.9ms | Allocations: 45684)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:26:19 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 684)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:26:28 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 7240)


Started GET "/users/me" for ::1 at 2022-12-12 17:26:29 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 849)


Started GET "/users/me" for ::1 at 2022-12-12 17:26:37 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.3ms | Allocations: 6799)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:26:57 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.8ms | Allocations: 6851)


  
Pundit::NotAuthorizedError (not allowed to me? this User):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:38:55 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.1ms | Allocations: 7326)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007f40c41133a0 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:39:33 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 87ms (ActiveRecord: 2.0ms | Allocations: 7454)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00005579c3451ce8 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:39:44 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 2.5ms | Allocations: 8198)


  
NameError (undefined local variable or method `scope' for ApplicationPolicy::Scope:Class):
  
app/policies/application_policy.rb:15:in `<class:Scope>'
app/policies/application_policy.rb:9:in `<class:ApplicationPolicy>'
app/policies/application_policy.rb:1:in `<main>'
app/policies/user_policy.rb:1:in `<main>'
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:39:55 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.3ms | Allocations: 7451)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007f40bc68f9d0 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:40:14 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.0ms | Allocations: 7473)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007f40dceb0478 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:42:42 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 1.7ms | Allocations: 46519)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007f672464ec30 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:43:10 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 1306)


  
NoMethodError (undefined method `me?' for #<UserPolicy:0x00007f6728029860 @user=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">, @record=#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">>):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 17:43:21 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.2ms | Allocations: 6775)


  
Pundit::NotDefinedError (unable to find policy `UserPolicy` for `#<User id: 1, email: "supakjack@gmail.com2", created_at: "2022-12-12 07:54:02.265409000 +0000", updated_at: "2022-12-12 10:24:20.250740000 +0000", first_name: "supak", last_name: "pukdam", auth_token: [FILTERED], role: "user">`):
  
app/controllers/users_controller.rb:5:in `me'
Started GET "/users/me" for ::1 at 2022-12-12 18:00:22 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 6971)


Started GET "/users/show/1" for ::1 at 2022-12-12 18:00:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/show/1"):
  
Started GET "/users/show/1" for ::1 at 2022-12-12 18:01:42 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 7683)


Started GET "/users/show/2" for ::1 at 2022-12-12 18:01:48 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:25:in `load_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 404 Not Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1071)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
  
app/controllers/users_controller.rb:10:in `show'
Started GET "/users/show/2" for ::1 at 2022-12-12 18:04:59 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 404 Not Found in 13ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 7168)


  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20221212032030)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212032030"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddProfileToUser (20221212032210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" text[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "auth_token" text[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_auth_token" ON "users" ("auth_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212032210"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUser (20221212051553)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221212051553"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-12 11:16:36.212857"], ["updated_at", "2022-12-12 11:16:36.212857"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sessions/sign_up" for ::1 at 2022-12-12 18:17:22 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f48b8ea7a60>, params: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com2"], ["encrypted_password", "[FILTERED]"], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 11:17:23.058251"], ["unconfirmed_email", nil], ["created_at", "2022-12-12 11:17:23.058139"], ["updated_at", "2022-12-12 11:17:23.058139"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 3.1ms | Allocations: 1352)
Devise::Mailer#confirmation_instructions: processed outbound mail in 74.6ms
Delivered mail 63970dc32c974_3ef32b4890289@LAPTOP-8N8UGD5V.mail (23.8ms)
Date: Mon, 12 Dec 2022 18:17:23 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com2
Message-ID: <63970dc32c974_3ef32b4890289@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com2!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/user/confirmation?confirmation_token=so_7yD9A68zcWyUoiDF4">Confirm my account</a></p>

Completed 201 Created in 390ms (Views: 0.5ms | ActiveRecord: 6.0ms | Allocations: 92157)


  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:19:21 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms | Allocations: 3074)


  
NoMethodError (undefined method `confirm' for nil:NilClass):
  
app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:20:30 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["confirmed_at", "2022-12-12 11:20:30.541894"], ["updated_at", "2022-12-12 11:20:30.542571"], ["id", 1]]
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:30:in `confirm'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 2535)


Started POST "/sessions/sign_in" for ::1 at 2022-12-12 18:20:36 +0700
Processing by SessionsController#sign_in as HTML
  Parameters: {"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]", "session"=>{"email"=>"supakjack@gmail.com2", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "supakjack@gmail.com2"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:14:in `sign_in'
Completed 201 Created in 201ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1178)


Started GET "/users/me" for ::1 at 2022-12-12 18:20:49 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 1598)


Started GET "/users/me" for ::1 at 2022-12-12 18:20:53 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
Completed 400 Bad Request in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 134)


Started GET "/users/me" for ::1 at 2022-12-12 18:20:58 +0700
Processing by UsersController#me as HTML
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 822)


Started GET "/users/show/2" for ::1 at 2022-12-12 18:21:07 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
Completed 400 Bad Request in 3ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 633)


Started GET "/users/show/2" for ::1 at 2022-12-12 18:21:13 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1257)


Started GET "/users/show/1" for ::1 at 2022-12-12 18:21:19 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 1250)


Started POST "/sessions/sign_up" for ::1 at 2022-12-12 18:21:30 +0700
Processing by SessionsController#sign_up as HTML
  Parameters: {"email"=>"supakjack@gmail.com3", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "session"=>{"email"=>"supakjack@gmail.com3", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}}
[31mUnpermitted parameter: :session. Context: { controller: SessionsController, action: sign_up, request: #<ActionDispatch::Request:0x00007f48b9159c40>, params: {"email"=>"supakjack@gmail.com3", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam", "controller"=>"sessions", "action"=>"sign_up", "session"=>{"email"=>"supakjack@gmail.com3", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"supak", "last_name"=>"pukdam"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email", "created_at", "updated_at", "first_name", "last_name", "auth_token", "role") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "supakjack@gmail.com3"], ["encrypted_password", "[FILTERED]"], ["confirmation_token", "[FILTERED]"], ["confirmed_at", nil], ["confirmation_sent_at", "2022-12-12 11:21:30.978141"], ["unconfirmed_email", nil], ["created_at", "2022-12-12 11:21:30.977989"], ["updated_at", "2022-12-12 11:21:30.977989"], ["first_name", "supak"], ["last_name", "pukdam"], ["auth_token", "[FILTERED]"], ["role", 0]]
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/sessions_controller.rb:6:in `sign_up'
  Rendering /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb
  Rendered /home/supakjack/.rvm/gems/ruby-3.0.0/gems/devise-4.8.1/app/views/devise/mailer/confirmation_instructions.html.erb (Duration: 1.9ms | Allocations: 251)
Devise::Mailer#confirmation_instructions: processed outbound mail in 5.9ms
Delivered mail 63970ebaf3a4a_3ef32b489034@LAPTOP-8N8UGD5V.mail (2.0ms)
Date: Mon, 12 Dec 2022 18:21:30 +0700
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: supakjack@gmail.com3
Message-ID: <63970ebaf3a4a_3ef32b489034@LAPTOP-8N8UGD5V.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome supakjack@gmail.com3!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://localhost:3000/user/confirmation?confirmation_token=D8nQsAz2S3mckLzzi8sU">Confirm my account</a></p>

Completed 201 Created in 216ms (Views: 0.4ms | ActiveRecord: 7.4ms | Allocations: 4967)


Started GET "/users/show/1" for ::1 at 2022-12-12 18:21:42 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1246)


Started GET "/users/show/2" for ::1 at 2022-12-12 18:21:46 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:26:in `load_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1098)


  
Pundit::NotAuthorizedError (not allowed to show? this User):
  
app/controllers/users_controller.rb:11:in `show'
Started GET "/users/show/2" for ::1 at 2022-12-12 18:24:06 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:27:in `load_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 400 Bad Request in 20ms (Views: 0.3ms | ActiveRecord: 3.9ms | Allocations: 5084)


Started GET "/users/show/2" for ::1 at 2022-12-12 18:24:52 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."auth_token" = ? LIMIT ?[0m  [["auth_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:27:in `load_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `show'
Completed 401 Unauthorized in 19ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 5049)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:30:36 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 4840)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:30:39 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 975)


  
NoMethodError (undefined method `confirm' for nil:NilClass):
  
app/controllers/sessions_controller.rb:30:in `confirm'
Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:33:59 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 1767)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:34:18 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1765)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:34:28 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 1765)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:34:52 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 0.8ms | Allocations: 1764)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:35:38 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.1ms | Allocations: 2215)


  
NoMethodError (undefined method `to_bool' for nil:NilClass):
  
app/controllers/sessions_controller.rb:31:in `confirm'
Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:35:44 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 1764)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:36:05 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1765)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:36:21 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1764)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:36:27 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1763)


Started POST "/sessions/confirm" for ::1 at 2022-12-12 18:36:27 +0700
Processing by SessionsController#confirm as HTML
  Parameters: {"confirmation_token"=>"[FILTERED]", "session"=>{"confirmation_token"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirmation_token" = ? LIMIT ?[0m  [["confirmation_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:29:in `confirm'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 511)


